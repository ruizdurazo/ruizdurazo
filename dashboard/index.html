<!DOCTYPE html>

<html lang="en" dir="ltr" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dashboard – Enrique Ruiz Durazo</title>
    <meta
      name="description"
      content="Software Engineer / Designer. Making things using code and design."
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/assets/images/favicon-16x16.png"
    />
    <link rel="mask-icon" href="/assets/images/favicon.svg" color="#202020" />
    <meta name="theme-color" content="#ffffff" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ruizdurazo" />
    <meta name="twitter:title" content="Enrique Ruiz Durazo" />
    <meta
      name="twitter:description"
      content="Software Engineer / Designer. Making things using code and design."
    />
    <meta
      name="twitter:image"
      content="https://ruizdurazo.com/assets/images/card.png"
    />

    <meta property="og:url" content="https://ruizdurazo.com/" />
    <meta property="og:title" content="Enrique Ruiz Durazo" />
    <meta
      property="og:description"
      content="Software Engineer / Designer. Making things using code and design."
    />
    <meta
      property="og:image"
      content="https://ruizdurazo.com/assets/images/card.png"
    />

    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/styles-dashboard.css" />

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Enrique Ruiz Durazo",
        "url": "https://ruizdurazo.com",
        "email": "enrique@ruizdurazo.com",
        "sameAs": ["https://x.com/ruizdurazo", "https://github.com/ruizdurazo"]
      }
    </script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LT28T7BZ5K"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-LT28T7BZ5K");
    </script>
  </head>

  <body>
    <div id="site" class="site">
      <!-- Navbar -->
      <nav id="navbar" class="navbar">
        <div class="navbar--elements">
          <div id="logo" class="logo">
            <a href="/">
              <img
                id="logo-svg"
                src="/assets/images/logo-ruizdurazo.svg"
                alt="Enrique Ruiz Durazo"
                draggable="false"
                width="300"
                height="30"
              />
            </a>
          </div>
          <div class="menu" id="menu">
            <button id="menu-button">
              <img
                id="menu-svg"
                src="/assets/icons/icon-menu.svg"
                alt="Menu"
                draggable="false"
                width="60"
                height="60"
              />
            </button>
          </div>
        </div>
        <div id="menu-overlay"></div>
      </nav>

      <!-- Dashboard -->
      <div id="content" class="content">
        <!-- Section - Quotes -->
        <section id="quotes-section">
          <a id="quotes" href="#">
            <div class="quote-text">
              <span id="quote"> </span>
            </div>
            <div class="quote-attribution">
              <span id="attribution"> </span>
            </div>
            <div id="loader"></div>
          </a>
        </section>

        <!-- Section - Quick Links -->
        <section id="quick-links-section">
          <ul>
            <li>
              <a href="https://mail.google.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/gmail.png"
                  alt="Gmail"
                  width="56"
                  height="56"
                />
                Mail
              </a>
            </li>
            <li>
              <a href="https://calendar.google.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/calendar.png"
                  alt="Calendar"
                  width="56"
                  height="56"
                />
                Calendar
              </a>
            </li>
            <li>
              <a href="https://google.com/finance" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/finance.png"
                  alt="Finance"
                  width="56"
                  height="56"
                />
                Finance
              </a>
            </li>
            <li>
              <a
                href="https://app.getquin.com/en/dashboard"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/dashboard/getquin.png"
                  alt="Getquin"
                  width="56"
                  height="56"
                />
                Getquin
              </a>
            </li>
            <li>
              <a href="https://x.com/i/bookmarks/all" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/x.png"
                  alt="X"
                  width="56"
                  height="56"
                />
                X
              </a>
            </li>
            <li>
              <a href="https://pro.x.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/x.png"
                  alt="X"
                  width="56"
                  height="56"
                />
                X Pro
              </a>
            </li>
            <li>
              <a href="https://grok.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/grok.png"
                  alt="Grok"
                  width="56"
                  height="56"
                />
                Grok
              </a>
            </li>
            <li>
              <a href="https://chatgpt.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/openai.png"
                  alt="OpenAI"
                  width="56"
                  height="56"
                />
                ChatGPT
              </a>
            </li>
            <li>
              <a href="https://notion.so" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/notion.png"
                  alt="Notion"
                  width="56"
                  height="56"
                />
                Notion
              </a>
            </li>
            <li>
              <a href="https://figma.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/figma.png"
                  alt="Figma"
                  width="56"
                  height="56"
                />
                Figma
              </a>
            </li>
            <li>
              <a
                href="https://read.amazon.com/kindle-library"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/dashboard/kindle.png"
                  alt="Kindle"
                  width="56"
                  height="56"
                />
                Kindle
              </a>
            </li>
            <li>
              <a
                href="https://www.audible.com/library/titles"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/dashboard/audible.png"
                  alt="Audible"
                  width="56"
                  height="56"
                />
                Audible
              </a>
            </li>
            <li>
              <div>••••••</div>
            </li>
            <li>
              <a href="https://github.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/github.png"
                  alt="GitHub"
                  width="56"
                  height="56"
                />
                GitHub
              </a>
            </li>
            <li>
              <a href="https://vercel.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/vercel.png"
                  alt="Vercel"
                  width="56"
                  height="56"
                />
                Vercel
              </a>
            </li>
            <li>
              <a
                href="https://supabase.com/dashboard"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/dashboard/supabase.png"
                  alt="Supabase"
                  width="56"
                  height="56"
                />
                Supabase
              </a>
            </li>
            <li>
              <a href="https://modal.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/modal.png"
                  alt="Modal"
                  width="56"
                  height="56"
                />
                Modal
              </a>
            </li>
            <li>
              <a href="https://news.ycombinator.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/ycombinator.png"
                  alt="Y Combinator"
                  width="56"
                  height="56"
                />
                Hacker News
              </a>
            </li>
            <li>
              <a href="https://cosmos.so" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/cosmos.png"
                  alt="Cosmos"
                  width="56"
                  height="56"
                />
                Cosmos
              </a>
            </li>

            <li>
              <a href="https://layers.to" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/layers.png"
                  alt="Layers"
                  width="56"
                  height="56"
                />
                Layers
              </a>
            </li>
            <li>
              <a href="https://fontsinuse.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/fontsinuse.png"
                  alt="Fonts in Use"
                  width="56"
                  height="56"
                />
                Fonts in Use
              </a>
            </li>
            <li>
              <a href="https://behance.net/galleries" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/behance.png"
                  alt="Behance"
                  width="56"
                  height="56"
                />
                Behance
              </a>
            </li>
            <li>
              <a
                href="https://www.archdaily.com/search/projects/categories/residential-architecture"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/dashboard/archdaily.png"
                  alt="ArchDaily"
                  width="56"
                  height="56"
                />
                ArchDaily
              </a>
            </li>
            <li>
              <a href="https://youtube.com" rel="noopener noreferrer">
                <img
                  src="/assets/images/dashboard/youtube.png"
                  alt="YouTube"
                  width="56"
                  height="56"
                />
                YouTube
              </a>
            </li>
          </ul>
        </section>
      </div>

      <!-- Footer -->
      <footer id="footer" class="footer">
        <span id="copyright">© Enrique Ruiz Durazo</span>
        <div class="footer-links">
          <a href="/dashboard" id="dashboard-link">Dashboard</a>
          <a
            id="source"
            href="https://github.com/ruizdurazo/ruizdurazo"
            target="_blank"
            >Source &nearr;</a
          >
        </div>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="/js/emailBubble.js"></script>
    <script src="/js/navbar.js"></script>
    <script>
      var yyyy = new Date();
      document.getElementById("copyright").innerHTML =
        "© " + yyyy.getFullYear() + " Enrique Ruiz Durazo";
    </script>
    <!-- Auto-resize textarea -->
    <script>
      const textarea = document.getElementById("prompt-input");
      textarea.addEventListener("input", function () {
        this.style.height = "auto";
        this.style.height = this.scrollHeight + 4 + "px";
      });
    </script>
    <!-- Update prompt links based on textarea input -->
    <script>
      const promptInput = document.getElementById("prompt-input");
      const chatgptLink = document.getElementById("chatgpt");
      const claudeLink = document.getElementById("claude");
      const searchLink = document.getElementById("search");

      promptInput.addEventListener("input", function () {
        const text = this.value.trim();
        // Update links based on input
        chatgptLink.href = text
          ? `https://chat.openai.com/?q=${encodeURIComponent(text)}`
          : "https://chat.openai.com";
        claudeLink.href = text
          ? `https://claude.ai/new?q=${encodeURIComponent(text)}`
          : "https://claude.ai";
        searchLink.href = text
          ? `https://google.com/search?q=${encodeURIComponent(text)}`
          : "https://google.com";
        // Hide Cmd + K shortcut if there's input
        if (text) {
          document.querySelector(".shortcut").style.display = "none";
        } else {
          document.querySelector(".shortcut").style.display = "initial";
        }
      });

      // Add keyboard shortcuts
      promptInput.addEventListener("keydown", function (e) {
        const text = this.value.trim();
        if (!text) return; // Only proceed if there's input

        // Enter key for ChatGPT
        if (e.key === "Enter" && !e.metaKey && !e.shiftKey) {
          e.preventDefault();
          window.location.href = chatgptLink.href;
        }
        // Cmd + Enter for Claude
        else if (e.key === "Enter" && e.metaKey && !e.shiftKey) {
          e.preventDefault();
          window.location.href = claudeLink.href;
        }
        // Cmd + Shift + Enter for Google Search
        else if (e.key === "Enter" && e.metaKey && e.shiftKey) {
          e.preventDefault();
          window.location.href = searchLink.href;
        }
      });

      // Focus on prompt input with Cmd + K shortcut
      document.addEventListener("keydown", function (e) {
        if (e.metaKey && e.key === "k") {
          promptInput.focus();
        }
        // Blur prompt input with Escape
        else if (e.key === "Escape") {
          promptInput.blur();
        }
      });
    </script>
    <!-- Fetch quotes -->
    <script>
      // Helpers
      let url = document.location.href;
      let quoteId = 0;
      let count = 0;
      let controller = null;

      // Account for 'local' vs 'prod'
      if (url.startsWith("https://ruizdurazo.com")) {
        url = `https://ruizdurazo-button.vercel.app/api/quotes`;
      } else {
        url = `http://localhost:3000/api/quotes`;
      }

      // Get quotes element
      const quotes = document.getElementById("quotes");

      // First fetch the count and initialize
      fetchQuoteCount().then(() => {
        // Add click event listener after we have the count
        quotes.addEventListener("click", async (e) => {
          e.preventDefault();
          // If it's a shift click, cycle backwards
          if (e.shiftKey) {
            quoteId = ((quoteId - 2 + count) % count) + 1;
          } else {
            quoteId = (quoteId % count) + 1; // This ensures we cycle from 1 to count
          }
          fetchQuote(quoteId);
        });
      });

      // Fetch quote count
      async function fetchQuoteCount() {
        try {
          const { count: totalCount } = await fetch(url).then((response) =>
            response.json()
          );

          count = totalCount;

          // Generate random quote id
          if (count > 0) {
            quoteId = Math.floor(Math.random() * count) + 1; // Add 1 to avoid getting 0
            await fetchQuote(quoteId);
          }

          return count;
        } catch (err) {
          if (err.name === "AbortError") {
            // Ignore abort errors
            return;
          }
          throw err;
        }
      }

      // Fetch 1 quote by id and update DOM
      async function fetchQuote(id) {
        const quoteText = document.getElementById("quote");
        const attribution = document.getElementById("attribution");
        const loader = document.getElementById("loader");
        const quoteWrapper = quoteText.parentElement;
        const attributionWrapper = attribution.parentElement;

        try {
          // Cancel any ongoing fetch
          if (controller) {
            controller.abort();
          }
          controller = new AbortController();
          const signal = controller.signal;

          // Fade out
          quoteWrapper.classList.add("fade");
          attributionWrapper.classList.add("fade");
          await new Promise((resolve) => setTimeout(resolve, 300));
          loader.style.display = "initial";

          // Fetch with abort signal
          const { quote } = await fetch(`${url}?id=${id}`, {
            signal,
          }).then((response) => response.json());

          loader.style.display = "none";
          quoteText.innerHTML = `"${quote.quote}"`;
          attribution.innerHTML = quote.attribution
            ? `– ${quote.attribution}`
            : "";

          // Remove widows
          const words = quoteText.textContent.split(" ");
          if (words.length > 1) {
            words[words.length - 2] += "\u00A0" + words[words.length - 1];
            words.pop();
            quoteText.innerHTML = words.join(" ");
          }

          // Fade in
          quoteWrapper.classList.remove("fade");
          attributionWrapper.classList.remove("fade");
        } catch (err) {
          if (err.name === "AbortError") {
            // Ignore abort errors
            return;
          }
          // Handle other errors
          loader.style.display = "none";
          quoteText.innerHTML = "Failed to load quote";
          attribution.innerHTML = "";
          throw err;
        }
      }
    </script>
  </body>
</html>
