<!DOCTYPE html>

<html lang="en" dir="ltr" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Enrique Ruiz Durazo â€” Software Engineer & Designer based in ZÃ¼rich, Switzerland.</title>
    <meta
      name="description"
      content="Software Engineer & Designer based in ZÃ¼rich, Switzerland."
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/assets/images/favicon-16x16.png"
    />
    <link rel="mask-icon" href="/assets/images/favicon.svg" color="#202020" />
    <meta name="theme-color" content="#ffffff" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@ruizdurazo" />
    <meta name="twitter:title" content="Enrique Ruiz Durazo" />
    <meta
      name="twitter:description"
      content="Software Engineer & Designer based in ZÃ¼rich, Switzerland."
    />
    <meta
      name="twitter:image"
      content="https://ruizdurazo.com/assets/images/card.png"
    />

    <meta property="og:url" content="https://ruizdurazo.com/" />
    <meta property="og:title" content="Enrique Ruiz Durazo" />
    <meta
      property="og:description"
      content="Software Engineer & Designer based in ZÃ¼rich, Switzerland."
    />
    <meta
      property="og:image"
      content="https://ruizdurazo.com/assets/images/card.png"
    />

    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/styles-home.css" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Enrique Ruiz Durazo",
        "url": "https://ruizdurazo.com",
        "email": "enrique@ruizdurazo.com",
        "sameAs": ["https://x.com/ruizdurazo", "https://github.com/ruizdurazo"]
      }
    </script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LT28T7BZ5K"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-LT28T7BZ5K");
    </script>
  </head>

  <body>
    <div id="site" class="site">
      <!-- Navbar -->
      <nav id="navbar" class="navbar">
        <div class="navbar--elements">
          <div id="logo" class="logo">
            <a href="/">
              <img
                id="logo-svg"
                src="/assets/images/logo-ruizdurazo.svg"
                alt="Enrique Ruiz Durazo"
                draggable="false"
                width="300"
                height="30"
              />
            </a>
          </div>
          <div class="menu" id="menu">
            <button id="menu-button">
              <img
                id="menu-svg"
                src="/assets/icons/icon-menu.svg"
                alt="Menu"
                draggable="false"
                width="60"
                height="60"
              />
            </button>
          </div>
        </div>
        <div id="menu-overlay"></div>
      </nav>

      <!-- Content -->
      <div id="content" class="content">
        <!-- Section - Hero -->
        <section id="hero" class="hero">
          <div>
            <h1>
              <span id="slideshow-anim">
                <span>Hello</span>
                <span class="hello-img">
                  <img
                    src="/assets/images/hello2.png"
                    id="hello"
                    draggable="false"
                    alt="Hello"
                    width="160"
                    height="160"
                  />
                </span>
              </span>
              <!-- <span>Hello</span>
              <img
                src="/assets/images/hello2.png"
                id="hello"
                draggable="false"
                alt="Hello"
                width="160"
                height="160"
              /> -->
              <!-- <br /> -->
              <!-- <span id="slideshow-anim">
                I'm <u class="underline-anim">Enrique</u>
              </span> -->
              <!-- <span id="slideshow-anim">
                I write <span class="cursor-anim"><code>code</code><span class="cursor"></span></span>
              </span> -->
              <!-- <span id="slideshow-anim">
                I
                <span class="font-change-anim"
                  ><span class="box"></span
                  ><span class="corner corner-top-left"></span
                  ><span class="corner corner-top-right"></span
                  ><span class="corner corner-bottom-left"></span
                  ><span class="corner corner-bottom-right"></span
                  ><span class="font-change-anim-text">design</span></span
                >
                stuff
              </span> -->
              <!-- <span id="slideshow-anim">
                I create
                <span class="circle-anim"
                  ><span>content</span>
                  <svg
                    width="319"
                    height="100"
                    viewBox="0 0 319 100"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M284.012 3.58265C283.732 2.27167 232.507 3.58267 232.507 3.58267C200.247 3.58267 131.462 8.6098 111.562 11.1754C91.6617 13.7411 -7.3403 24.9383 3.88402 66.9056C15.1083 108.873 236.532 98.2085 279.427 86.6588C322.321 75.109 327.902 36.5532 293.962 24.9383C260.022 13.3235 248.553 12.9457 218 11.1754"
                      stroke="#0F4FFF"
                      stroke-width="6"
                      stroke-linecap="round"
                    />
                  </svg>
                </span>
              </span> -->
            </h1>
          </div>
        </section>

        <!-- Section - Demo Reel -->
        <!-- <section class="demo" id="demo" style="display: none;">
          <div class="demo-container">
            <video src="/assets/images/demo.mp4" autoplay loop muted playsinline></video>
          </div>
        </section> -->

        <!-- Section - Summary -->
        <section id="summary-section">
          <hr class="sep" />
          <div class="summary">
            <!-- Summary Text -->
            <div class="summary__text">
              <h2 class="section__title">Summary</h2>
              <p id="senior-software-engineer" class="bold">
                Senior software engineer, product designer, content creator, and
                techno-optimist.
              </p>
              <p>
                Obsessed with crafting great websites, apps, and creating
                quality content (videos, photos).
              </p>
              <!-- <p>
                Senior software engineer and designer at <a href="https://tend.ch" target="_blank" rel="noopener noreferrer" class="link">Tend</a>. Design consultant and content creator elsewhere.
              </p> -->
              <p>Based in ZÃ¼rich, Switzerland.</p>
              <p>Say hi!</p>
              <p>
                <a
                  href="mailto:enrique@ruizdurazo.com"
                  target="_blank"
                  class="link"
                  >Write me an email</a
                >
                or
                <a
                  href="https://x.com/ruizdurazo"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="link"
                  >dm me on X</a
                >.
              </p>

              <div class="call-link-button-container">
                <a
                  href="https://cal.com/ruizdurazo"
                  class="call-link-button"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img
                    src="/assets/images/call.jpg"
                    alt="Enrique Ruiz Durazo"
                    draggable="false"
                    width="32"
                    height="32"
                  />
                  Book an intro call
                </a>
              </div>
            </div>

            <!-- Profile Image -->
            <div class="summary__image">
              <div class="image-wrapper">
                <div class="card-wrapper">
                  <div class="card">
                    <div class="card-face card-front">
                      <img
                        src="/assets/images/enrique.jpg"
                        draggable="false"
                        alt="Enrique Ruiz Durazo"
                        width="330"
                        height="370"
                      />
                    </div>
                    <div class="card-face card-back">
                      <img
                        src="/assets/images/not-enrique.jpg"
                        draggable="false"
                        alt="SeÃ±or Software Engineer"
                        width="330"
                        height="370"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <button id="learn-more" class="learn-more">
                Don't click here
              </button>
            </div>
          </div>
        </section>

        <!-- Section - Capabilities & Bento Highlights -->
        <!-- <section class="capabilities" id="capabilities" style="display: none;">
          <hr class="sep" />
          <h2 class="section__title">Capabilities</h2>
          <div class="capabilities-container">
            <div class="capabilities-item">
              Design
            </div>
          </div>
          <div class="bento-highlights">
            <div class="bento-highlight small">
              <img src="/assets/images/bento/1.jpg" alt="Bento 1" />
            </div>
            <div class="bento-highlight small">
              <video src="/assets/images/bento/2.mp4" autoplay loop muted playsinline></video>
            </div>
          </div>
        </section> -->

        <!-- Section - Notes -->
        <section id="notes-section">
          <hr class="sep" />
          <h2 class="section__title">Notes</h2>
          <div id="notes" class="notes">
            <!-- <article class="note">
              <hr class="sep sep-note" />
              <a href="#" class="note-thumbnail">
                <img alt="" />
                <div class="date-title-desc">
                  <small class="date">YYYY MONTH DD</small>
                  <div class="title-desc">
                    <span class="title">Title</span>
                    <span class="description">Description.</span>
                  </div>
                </div>
              </a>
            </article>
            <article class="note">
              <hr class="sep sep-note" />
              <a href="#" class="note-thumbnail">
                <img alt="" />
                <div class="date-title-desc">
                  <small class="date">YYYY MONTH DD</small>
                  <div class="title-desc">
                    <span class="title">A Long Ass Title to See How it Looks</span>
                    <span class="description">A very long description that is totally unnecessary, but hey, here you have it.</span>
                  </div>
                </div>
              </a>
            </article>
            <article class="note">
              <hr class="sep sep-note" />
              <a href="#" class="note-default">
                <div class="date-title-desc">
                  <small class="date">YYYY MONTH DD</small>
                  <div class="title-desc">
                    <span class="title">Title</span>
                  </div>
                </div>
              </a>
            </article> -->
          </div>
        </section>

        <!-- Section - Contact -->
        <section id="contact-section">
          <hr class="sep" />
          <h2 class="section__title">Get in touch</h2>
          <div class="social-media">
            <ul class="social-media-links">
              <li>
                <button id="mail">
                  <img
                    src="/assets/icons/icon-mail.svg"
                    alt="Email"
                    draggable="false"
                    width="32"
                    height="32"
                  />
                  <span>Email</span>
                </button>
              </li>
              <li>
                <a
                  id="x"
                  href="https://x.com/ruizdurazo"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img
                    src="/assets/icons/icon-x.svg"
                    alt="X (Twitter)"
                    draggable="false"
                    width="32"
                    height="32"
                  />
                  <span>X (Twitter)</span>
                </a>
              </li>
              <li>
                <a
                  id="github"
                  href="https://github.com/ruizdurazo"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img
                    src="/assets/icons/icon-github.svg"
                    alt="GitHub"
                    draggable="false"
                    width="32"
                    height="32"
                  />
                  <span>GitHub</span>
                </a>
              </li>
              <li>
                <a id="lol" href="/lol">
                  <img
                    src="/assets/icons/icon-lol.svg"
                    alt="LinkedIn"
                    draggable="false"
                    width="32"
                    height="32"
                  />
                  <span>LinkedIn</span>
                </a>
              </li>
            </ul>

            <div class="call-link-button-container">
              <a
                href="https://cal.com/ruizdurazo"
                class="call-link-button"
                target="_blank"
                rel="noopener noreferrer"
              >
                <img
                  src="/assets/images/call.jpg"
                  alt="Enrique Ruiz Durazo"
                  draggable="false"
                  width="32"
                  height="32"
                />
                Book an intro call
              </a>
            </div>
          </div>
        </section>
      </div>

      <!-- Footer -->
      <footer id="footer" class="footer">
        <span id="copyright">Â© <a href="/">Enrique Ruiz Durazo</a></span>
        <div class="footer-links">
          <!-- TODO: Dark/light mode toggle -->
          <!-- Shows: System, Light, Dark -->
          <!-- <button id="mode-toggle" type="button">System</button> -->
          <a href="/dashboard" id="dashboard-link">Dashboard</a>
          <a
            id="source"
            href="https://github.com/ruizdurazo/ruizdurazo"
            target="_blank"
            rel="noopener noreferrer"
            >Source &nearr;</a
          >
        </div>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="/js/emailBubble.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="/js/notes.js"></script>
    <!-- Notes parsing -->
    <script>
      // Date format options
      const date_options = {
        year: "numeric",
        month: "long",
        day: "numeric",
      };

      notes
        .sort((a, b) => (a.date > b.date ? 1 : b.date > a.date ? -1 : 0))
        .reverse();

      if (notes) {
        // Add placeholder content awaiting note data?

        // document.getElementById('notes-section').setAttribute('style', 'display: auto;')
        // document.getElementById('notes-section').innerHTML +=
        //   '<hr class="sep" />' +
        //   '<h2>Notes</h2>' +
        //   '<div id="notes" class="notes">' +
        //   <!-- <div class="note">
        //   <hr class="sep sep-note">
        //   <a href="#" class="media-post">
        //     <img src="/assets/images/name.jpg" alt="">
        //     <small class="date">DATE</small>
        //     <div class="text">
        //       <span class="title">Title</span>
        //       <span class="description">Description.</span>
        //     </div>
        //   </a>
        // </div> -->
        //   <!-- <div class="note">
        //   <hr class="sep sep-note">
        //   <a href="#" class="text-post">
        //     <small class="date">DATE</small>
        //     <div class="text">
        //       <span class="title">Title</span>
        //     </div>
        //   </a>
        // </div> -->
        // '</div>' +

        notes.forEach((note) => {
          // Create html elements for notes
          // Either: 1) normal text post or 2) media post with thumbnail image
          if (note.thumbnail) {
            // Media post
            document.getElementById("notes").innerHTML +=
              '<article class="note" id="' +
              note.folder +
              '">' +
              // '<hr class="sep sep-note">' +
              '<a href="/notes/' +
              note.folder +
              '" class="media-post">' +
              // '<img src="/note/' + note + '/assets/images/' + note.image + '" alt="' + note.image_alt + '">' +
              '<img src="' +
              note.thumbnailImage +
              '" alt="' +
              note.thumbnailImageAlt +
              '">' +
              // '<hr class="sep sep-note">' +
              '<small class="date">' +
              new Date(note.date).getFullYear() +
              " " +
              new Intl.DateTimeFormat("en-US", { month: "long" })
                .format(new Date(note.date))
                .toUpperCase() +
              " " +
              new Date(note.date).getDate() +
              " " +
              "</small>" +
              '<div class="text">' +
              '<span class="title">' +
              note.title +
              "</span>" +
              '<span class="description">' +
              note.description +
              "</span>" +
              "</div>" +
              "</a>" +
              "</article>";
          } else {
            // Text post
            document.getElementById("notes").innerHTML +=
              '<article class="note" id="' +
              note.folder +
              '">' +
              '<hr class="sep-note">' +
              '<a href="/notes/' +
              note.folder +
              '" class="note-default">' +
              '<div class="date-title-desc">' +
              '<small class="date">' +
              new Date(note.date).getFullYear() +
              " " +
              new Intl.DateTimeFormat("en-US", { month: "long" })
                .format(new Date(note.date))
                .toUpperCase() +
              " " +
              new Date(note.date).getDate() +
              " " +
              "</small>" +
              '<div class="title-desc">' +
              '<span class="title">' +
              note.title +
              "</span>" +
              "</div>" +
              "</div>" +
              "</a>" +
              "</article>";
          }
        });
      }
    </script>
    <!-- Email bubble -->
    <script>
      const mailBtn = document.getElementById("mail");
      const bubbleText = "enrique" + "@" + "ruizdurazo.com";

      // Apply to mail button
      handleEmailBubble(mailBtn, bubbleText);

      // Apply to all mailto links
      document.querySelectorAll('a[href^="mailto:"]').forEach((link) => {
        const email = link.href.replace("mailto:", "");
        handleEmailBubble(link, email);
      });
    </script>
    <!-- Home page: footer + words animation + slides -->
    <script>
      //
      // https://raw.githubusercontent.com/ruizdurazo/ruizdurazo/master/
      //

      //
      // Footer
      //

      var yyyy = new Date();
      document.getElementById("copyright").innerHTML =
        "Â© " + yyyy.getFullYear() + " <a href='/'>Enrique Ruiz Durazo</a>";

      //
      // Words animation
      //

      // List of strings to cycle through
      // const words = [
      //   "I'm <u>Enrique</u>",
      //   "I write <u>code</u>",
      //   "I <u>design</u> stuff",
      //   "I create <u>content</u>",
      // ];
      const words = [
        'Hello <span class="hello-img"><img src="/assets/images/hello2.png" id="hello" draggable="false" alt="Hello" width="160" height="160" /></span>',
        'I\'m <u class="underline-anim">Enrique</u>',
        'I write <span class="cursor-anim"><code class="code-anim">c</code><span class="cursor"></span></span>',
        'I <span class="font-change-anim"><span class="box"></span><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-left"></span><span class="corner corner-bottom-right"></span><span class="font-change-anim-text">design</span></span> stuff',
        'I create <span class="circle-anim"><span>content</span><svg width="319" height="100" viewBox="0 0 319 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M284.012 3.58265C283.732 2.27167 232.507 3.58267 232.507 3.58267C200.247 3.58267 131.462 8.6098 111.562 11.1754C91.6617 13.7411 -7.3403 24.9383 3.88402 66.9056C15.1083 108.873 236.532 98.2085 279.427 86.6588C322.321 75.109 327.902 36.5532 293.962 24.9383C260.022 13.3235 248.553 12.9457 218 11.1754" stroke="#0F4FFF" stroke-width="6" stroke-linecap="round" /></svg></span>',
        // 'Hallo <span class="hello-img"><img src="/assets/images/hello.png" id="hello" draggable="false" alt="Hello" width="160" height="160" /></span>',
        // 'Ich bin <u class="underline-anim">Enrique</u>',
        // 'I write <span class="cursor-anim"><code>code</code><span class="cursor"></span></span>',
        // 'I <span class="font-change-anim"><span class="box"></span><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-left"></span><span class="corner corner-bottom-right"></span><span class="font-change-anim-text">design</span></span> stuff',
        // 'I create <span class="circle-anim"><span>content</span><svg width="319" height="100" viewBox="0 0 319 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M284.012 3.58265C283.732 2.27167 232.507 3.58267 232.507 3.58267C200.247 3.58267 131.462 8.6098 111.562 11.1754C91.6617 13.7411 -7.3403 24.9383 3.88402 66.9056C15.1083 108.873 236.532 98.2085 279.427 86.6588C322.321 75.109 327.902 36.5532 293.962 24.9383C260.022 13.3235 248.553 12.9457 218 11.1754" stroke="#0F4FFF" stroke-width="6" stroke-linecap="round" /></svg></span>',
        // 'Hola <span class="hello-img"><img src="/assets/images/hello2.png" id="hello" draggable="false" alt="Hello" width="160" height="160" /></span>',
        // 'Soy <u class="underline-anim">Enrique</u>',
        // 'I write <span class="cursor-anim"><code>code</code><span class="cursor"></span></span>',
        // 'I <span class="font-change-anim"><span class="box"></span><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-left"></span><span class="corner corner-bottom-right"></span><span class="font-change-anim-text">design</span></span> stuff',
        // 'I create <span class="circle-anim"><span>content</span><svg width="319" height="100" viewBox="0 0 319 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M284.012 3.58265C283.732 2.27167 232.507 3.58267 232.507 3.58267C200.247 3.58267 131.462 8.6098 111.562 11.1754C91.6617 13.7411 -7.3403 24.9383 3.88402 66.9056C15.1083 108.873 236.532 98.2085 279.427 86.6588C322.321 75.109 327.902 36.5532 293.962 24.9383C260.022 13.3235 248.553 12.9457 218 11.1754" stroke="#0F4FFF" stroke-width="6" stroke-linecap="round" /></svg></span>',
        // 'GrÃ¼ezi <span class="hello-img"><img src="/assets/images/hello.png" id="hello" draggable="false" alt="Hello" width="160" height="160" /></span>',
        // 'I bi d\'<u class="underline-anim">Enrique</u>',
        // 'I write <span class="cursor-anim"><code>code</code><span class="cursor"></span></span>',
        // 'I <span class="font-change-anim"><span class="box"></span><span class="corner corner-top-left"></span><span class="corner corner-top-right"></span><span class="corner corner-bottom-left"></span><span class="corner corner-bottom-right"></span><span class="font-change-anim-text">design</span></span> stuff',
        // 'I create <span class="circle-anim"><span>content</span><svg width="319" height="100" viewBox="0 0 319 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M284.012 3.58265C283.732 2.27167 232.507 3.58267 232.507 3.58267C200.247 3.58267 131.462 8.6098 111.562 11.1754C91.6617 13.7411 -7.3403 24.9383 3.88402 66.9056C15.1083 108.873 236.532 98.2085 279.427 86.6588C322.321 75.109 327.902 36.5532 293.962 24.9383C260.022 13.3235 248.553 12.9457 218 11.1754" stroke="#0F4FFF" stroke-width="6" stroke-linecap="round" /></svg></span>',
      ];

      // Get location to render
      const word_element = document.getElementById("slideshow-anim");

      // Animation settings
      let anim_delay = 2600; // ms
      let anim_duration = 400; // ms
      let num = 0; // counter

      // Animation words loop
      // readystatechange
      document.addEventListener("readystatechange", function (event) {
        if (document.readyState === "interactive") {
          setInterval(() => {
            num++; // Increment counter
            // Add outro class to current word
            word_element.classList.add("fade-out");
            // Replace innerhtml of word, add intro class to new word
            setTimeout(() => {
              word_element.classList.remove("fade-out");
              word_element.innerHTML = words[num % words.length];
              word_element.classList.add("fade-in");

              // Animate 'code' letters if present
              const codeAnim = word_element.querySelector(".code-anim");
              if (codeAnim) {
                setTimeout(() => {
                  codeAnim.textContent = "co";
                }, 400); // slight delay to allow DOM update
                setTimeout(() => {
                  codeAnim.textContent = "cod";
                }, 500);
                setTimeout(() => {
                  codeAnim.textContent = "code";
                }, 600);
              }
            }, anim_duration);
            word_element.classList.remove("fade-in");
          }, anim_delay);
        }
      });
      // DOM content loaded
      // document.addEventListener("DOMContentLoaded", function (event) {
      //   setInterval(() => {
      //     num++; // Increment counter
      //     // Add outro class to current word
      //     word_element.classList.add("fade-out");
      //     // Replace innerhtml of word, add intro class to new word
      //     setTimeout(() => {
      //       word_element.classList.remove("fade-out");
      //       word_element.innerHTML = words[num % words.length];
      //       word_element.classList.add("fade-in");
      //     }, anim_duration);
      //     word_element.classList.remove("fade-in");
      //   }, anim_delay);
      // });

      // Underline animation
      // document.addEventListener("DOMContentLoaded", function () {
      //   document.querySelector(".underline-anim").classList.add("animated");
      // });

      // Circle animation
      document.addEventListener("DOMContentLoaded", function () {
        var circleAnim = document.querySelector(".circle-anim svg path");
        if (circleAnim) {
          var length = circleAnim.getTotalLength();
          circleAnim.style.strokeDasharray = length;
          circleAnim.style.strokeDashoffset = length;
        }
      });

      //
      // Profile Image
      //

      document.addEventListener("DOMContentLoaded", () => {
        const card = document.querySelector(".card");

        card.addEventListener("dblclick", () => {
          card.classList.toggle("flipped");

          const titleElement = document.getElementById(
            "senior-software-engineer"
          );
          const currentText = titleElement.textContent;
          const targetText = card.classList.contains("flipped")
            ? "ðŸŒµ SeÃ±or software engineer, product designer, content creator, and techno-optimist. ðŸŒµ"
            : "Senior software engineer, product designer, content creator, and techno-optimist.";

          // Create a container for characters
          titleElement.innerHTML = "";
          const container = document.createElement("div");
          container.style.display = "inline-block";
          titleElement.appendChild(container);

          // Add each character of current text with span
          for (let char of currentText) {
            const span = document.createElement("span");
            span.textContent = char;
            span.style.letterSpacing = "0.01em";
            span.style.opacity = "1";
            span.style.transition = "opacity 500ms";
            container.appendChild(span);
          }

          // Fade out each character one by one
          const spans = container.querySelectorAll("span");
          let delay = 0;
          spans.forEach((span, i) => {
            setTimeout(() => {
              span.style.opacity = "0";
            }, delay);
            delay += 5;
          });

          // After all characters have faded out, start fading in new text
          setTimeout(() => {
            container.innerHTML = "";

            // Add each character of new text with span
            for (let char of targetText) {
              const span = document.createElement("span");
              span.textContent = char;
              span.style.letterSpacing = "0.01em";
              span.style.opacity = "0";
              span.style.transition = "opacity 500ms";
              container.appendChild(span);
            }

            // Fade in each character one by one
            const newSpans = container.querySelectorAll("span");
            let newDelay = 0;
            newSpans.forEach((span) => {
              setTimeout(() => {
                span.style.opacity = "1";
              }, newDelay);
              newDelay += 5;
            });
          }, delay + 5);
        });

        // Optional: Add hover effect for rotation if desired
        const wrapper = document.querySelector(".image-wrapper");
        const cardWrapper = wrapper.querySelector(".card-wrapper");

        // Variables for rotation
        const maxRotation = 10; // Maximum rotation in degrees

        wrapper.addEventListener("mousemove", (e) => {
          if (!wrapper || !cardWrapper) return;

          // Get the dimensions and position of the wrapper
          const rect = wrapper.getBoundingClientRect();

          // Calculate mouse position relative to the center of the wrapper
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;

          // Calculate rotation based on mouse distance from center
          const rotateY =
            ((e.clientX - centerX) / (rect.width / 2)) * maxRotation;
          const rotateX =
            -((e.clientY - centerY) / (rect.height / 2)) * maxRotation;

          // Apply the transformation to the card (not the image directly)
          cardWrapper.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        // Reset the image position when mouse leaves
        wrapper.addEventListener("mouseleave", () => {
          cardWrapper.style.transform = "rotateX(0) rotateY(0)";
        });
      });

      //
      // Slides
      //

      const body = document.body;

      const learnMore = [
        {
          text: `
              <p>Enrique</p>
              <p>(EN-RI-KEH)</p>
            `,
          bgColor: "blue",
        }, // if 'color' then set style attrs (bg, text, fills)
        {
          text: `
              <p>Engineer</p>
              <p>Designer</p>
              <p>Creator</p>
            `,
          bgColor: "white",
        },
        {
          text: `
              <p>
                Based in
                <a
                  href="https://www.google.com/maps/place/Z%C3%BCrich/"
                  target="_blank"
                  >ZÃ¼rich</a
                >
              </p>
            `,
          bgColor: "blue",
        },
        {
          text: `
              <p>
                From
                <a
                  href="https://www.google.com/maps/place/Sonora,+Mexico/"
                  target="_blank"
                  >Sonora</a
                >
              </p>
            `,
          bgColor: "gold",
        },
        {
          text: `
              <p>A bit quiet</p>
              <p>A lot nerdy</p>
            `,
          bgColor: "white",
        },
        {
          text: `
              <p>Tech</p>
              <p>Design</p>
              <p>Real estate</p>
              <p>Housing</p>
              <p>Cities</p>
            `,
          bgColor: "black",
        },
        {
          text: `
              <p>JavaScript</p>
              <p>Python</p>
              <p>Figma</p>
              <p>DaVinci Resolve</p>
              <p>Capture One</p>
            `,
          bgColor: "blue",
        },
        {
          text: `
              <p>Black coffee</p>
              <p>Black clothing</p>
            `,
          bgColor: "black",
        },
        {
          text: `
            <p>Hate mornings</p>
            <p>Love sunsets</p>
            `,
          bgColor: "sunset",
        },
        {
          text: `
            <p>English</p>
            <p>German</p>
            <p>Spanish</p>
            `,
          bgColor: "white",
        },
        {
          text: `
              <p>
                <a
                  href="https://en.wikipedia.org/wiki/Big_Five_personality_traits"
                  target="_blank"
                  >Big</a
                >
                <a
                  href="https://projects.fivethirtyeight.com/personality-quiz/"
                  target="_blank"
                  >Five</a
                >
              </p>
              <p title="Openness">O ~85% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢-</p>
              <p title="Conscientiousness">C ~70% â€¢â€¢â€¢â€¢â€¢â€¢â€¢---</p>
              <p title="Extroversion">E ~25% â€¢â€¢â€¢-------</p>
              <p title="Agreeableness">A ~50% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Neuroticism">N ~15% â€¢â€¢--------</p>
            `,
          bgColor: "blue",
        },
        {
          text: `
              <p>
                <a
                  href="https://www.enneagraminstitute.com/type-5"
                  target="_blank"
                >
                  Enneagram
                </a>
              </p>
              <p title="Type One: Reformer">1 ~60% â€¢â€¢â€¢â€¢â€¢â€¢----</p>
              <p title="Type Two: Helper">2 ~45% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Type Three: Achiever">3 ~45% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Type Four: Individualist">4 ~80% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢--</p>
              <p title="Type Five: Investigator">5 ~99% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</p>
              <p title="Type Six: Loyalist">6 ~55% â€¢â€¢â€¢â€¢â€¢â€¢----</p>
              <p title="Type Seven: Enthusiast">7 ~55% â€¢â€¢â€¢â€¢â€¢â€¢----</p>
              <p title="Type Eight: Challenger">8 ~80% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢--</p>
              <p title="Type Nine: Peacemaker">9 ~70% â€¢â€¢â€¢â€¢â€¢â€¢â€¢---</p>
            `,
          bgColor: "blue",
        },
        {
          text: `
              <p>
                <a
                  href="https://www.16personalities.com/intj-personality"
                  target="_blank"
                  >16 personalities</a
                >
              </p>
              <p title="Introverted">I ~80% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢--</p>
              <p title="Intuitive">N ~50% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Thinking">T ~50% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Judging">J ~50% â€¢â€¢â€¢â€¢â€¢-----</p>
              <p title="Assertive">A ~90% â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢-</p>
            `,
          bgColor: "blue",
        },
        {
          text: `
              <p>
                <a href="mailto:enrique@ruizdurazo.com" target="_blank"
                  >Email</a
                >
              </p>
              <p>
                <a href="https://x.com/ruizdurazo" target="_blank" rel="noopener noreferrer"
                  >X (Twitter)</a
                >
              </p>
              <p>
                <a href="https://github.com/ruizdurazo" target="_blank" rel="noopener noreferrer"
                  >GitHub</a
                >
              </p>
              <p>
                <a href="/lol"
                  >LinkedIn</a
                >
              </p>
            `,
          bgColor: "white",
        },
        {
          text: `
            <p>omg you clicked the button!</p>
            `,
          bgColor: "black",
        },
      ];

      // Slideshow helpers
      let slideNo = 0;
      let colorBg = "var(--blue)";
      let isSlideshowOpen = false;

      const resetBg = () => {
        document.getElementById("more--fg").style.background = colorBg;
        document.getElementById("more--fg").style.opacity = "1";
        setTimeout(() => {
          document.getElementById("more--bg").style.background = colorBg;
          document.getElementById("more--fg").style.transition = "none";
          document.getElementById("more--fg").style.opacity = "0";
          document.getElementById("more--fg").style.transition = "opacity 0.3s";
        }, 300);
      };

      const updateSlides = () => {
        if (learnMore[slideNo].bgColor === "blue") {
          colorBg = "var(--blue)";
          resetBg();
          document
            .getElementById("more--logo")
            .children[0].children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--close")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--back")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--next")
            .children[0].setAttribute("fill", "#fff");
          document.getElementById("more--count").style.color = "#fff";
          document.getElementById("more--text").innerHTML =
            learnMore[slideNo].text;
          let children = document.getElementById("more--text").children;
          for (let i = 0; i < children.length; i++) {
            children[i].style.color = "#fff";
          }
        } else if (learnMore[slideNo].bgColor === "white") {
          colorBg = "#fff";
          resetBg();
          document
            .getElementById("more--logo")
            .children[0].children[0].setAttribute("fill", "var(--black)");
          document
            .getElementById("more--close")
            .children[0].setAttribute("fill", "var(--black)");
          document
            .getElementById("more--back")
            .children[0].setAttribute("fill", "var(--black)");
          document
            .getElementById("more--next")
            .children[0].setAttribute("fill", "var(--black)");
          document.getElementById("more--count").style.color = "var(--black)";
          document.getElementById("more--text").innerHTML =
            learnMore[slideNo].text;
          let children = document.getElementById("more--text").children;
          for (let i = 0; i < children.length; i++) {
            children[i].style.color = "var(--black)";
          }
        } else if (learnMore[slideNo].bgColor === "black") {
          colorBg = "#000";
          resetBg();
          document
            .getElementById("more--logo")
            .children[0].children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--close")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--back")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--next")
            .children[0].setAttribute("fill", "#fff");
          document.getElementById("more--count").style.color = "#fff";
          document.getElementById("more--text").innerHTML =
            learnMore[slideNo].text;
          let children = document.getElementById("more--text").children;
          for (let i = 0; i < children.length; i++) {
            children[i].style.color = "#fff";
          }
        } else if (learnMore[slideNo].bgColor === "gold") {
          colorBg = "linear-gradient(180deg, #FF9C08 40%, #F7F03F 65%)";
          resetBg();
          document
            .getElementById("more--logo")
            .children[0].children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--close")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--back")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--next")
            .children[0].setAttribute("fill", "#fff");
          document.getElementById("more--count").style.color = "#fff";
          document.getElementById("more--text").innerHTML =
            learnMore[slideNo].text;
          let children = document.getElementById("more--text").children;
          for (let i = 0; i < children.length; i++) {
            children[i].style.color = "#fff";
          }
        } else if (learnMore[slideNo].bgColor === "sunset") {
          colorBg =
            "linear-gradient(180deg, #046CE6 40%, #E16B87 55%, #FDDB64 65%)";
          resetBg();
          document
            .getElementById("more--logo")
            .children[0].children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--close")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--back")
            .children[0].setAttribute("fill", "#fff");
          document
            .getElementById("more--next")
            .children[0].setAttribute("fill", "#fff");
          document.getElementById("more--count").style.color = "#fff";
          document.getElementById("more--text").innerHTML =
            learnMore[slideNo].text;
          let children = document.getElementById("more--text").children;
          for (let i = 0; i < children.length; i++) {
            children[i].style.color = "#fff";
          }
        }
        document.getElementById("more--count").innerHTML =
          slideNo + 1 + '<span id="more--slash">/</span>' + learnMore.length;
      };

      // back
      const back = () => {
        document.getElementById("more--back").blur();
        //
        slideNo -= 1;
        if (slideNo < 0) {
          slideNo = learnMore.length - 1;
        }
        updateSlides();
      };

      // next
      const next = () => {
        document.getElementById("more--next").blur();
        //
        slideNo += 1;
        if (slideNo >= learnMore.length) {
          slideNo = 0;
        }
        updateSlides();
      };

      // keystrokes
      document.addEventListener(
        "keydown",
        (event) => {
          if (event.key === "ArrowLeft") {
            // left
            if (isSlideshowOpen) {
              back();
            }
          } else if (event.key === "ArrowRight") {
            // right
            if (isSlideshowOpen) {
              next();
            }
          } else if (event.key === "Escape") {
            // escape
            if (document.getElementById("more--close")) {
              document.getElementById("more--close").click();
            }
          }
        },
        true
      );

      //
      // Click `Learn more`
      //

      // `Learn more` button
      document
        .getElementById("learn-more")
        .addEventListener("click", async (event) => {
          isSlideshowOpen = true;

          // moreBg
          let moreBgElement = document.createElement("div");
          moreBgElement.setAttribute("id", "more--bg");
          document.getElementById("hero").appendChild(moreBgElement);
          let moreBg = document.getElementById("more--bg");
          // moreFg
          let moreFgElement = document.createElement("div");
          moreFgElement.setAttribute("id", "more--fg");
          document.getElementById("more--bg").appendChild(moreFgElement);
          let moreFg = document.getElementById("more--fg");
          // more
          let moreElement = document.createElement("div");
          moreElement.setAttribute("id", "more");
          document.getElementById("hero").appendChild(moreElement);
          let more = document.getElementById("more");

          // Change button state
          document.getElementById("learn-more").blur();
          // Disable site overflow
          body.setAttribute("style", "overflow: hidden;");
          // Start growing circle animation
          moreBg.setAttribute(
            "style",
            "top: " +
              event.clientY +
              "px; left: " +
              event.clientX +
              "px; opacity: 1; max-height: 8000px; max-width: 8000px;"
          );
          // Wait for animation to finish
          setTimeout(() => {
            // Reset counter
            slideNo = 0;
            // Add content
            more.innerHTML += `
                <!-- Logo -->
                <nav class="more--navbar">
                <div class="more--navbar--elements">
                <div class="logo">
                <a id="more--logo" href="/">
                <svg width="300" height="30" viewBox="0 0 300 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g fill="#ffffff">
                <path d="M5.21,21.63V8h9.56v2.66H8.23v2.66h5.9V16H8.23V19h7v2.67Z"/>
                <path d="M21.41,21.63V8h3.08l3.24,5.32c.32.53.65,1.08,1,1.66s.59,1,.76,1.35l.26.47h0q-.12-2.68-.12-4.26V8h3v13.6h-3l-3.21-5.24c-.23-.37-.52-.86-.86-1.47l-.85-1.55-.35-.64h0q.15,2.27.15,4.44v4.46Z"/>
                <path d="M39.37,21.63V8h5.12a9.37,9.37,0,0,1,3.24.42,4.25,4.25,0,0,1,1.94,1.49,4,4,0,0,1,.7,2.42,4,4,0,0,1-.77,2.5,3.91,3.91,0,0,1-2.12,1.35l3.38,5.42H47.44l-3-5.05h-2v5.05Zm3-7.6h2.37a3.78,3.78,0,0,0,2-.36,1.44,1.44,0,0,0,.63-1.31,1.47,1.47,0,0,0-.63-1.31,3.78,3.78,0,0,0-2-.36H42.39Z"/>
                <path d="M56.51,21.63V8h3v13.6Z"/>
                <path d="M66.46,18.5a8.22,8.22,0,0,1-.78-3.67,8.12,8.12,0,0,1,.8-3.67,5.93,5.93,0,0,1,2.3-2.48,7.27,7.27,0,0,1,7,0A5.84,5.84,0,0,1,78,11.16a8.12,8.12,0,0,1,.8,3.67,8.24,8.24,0,0,1-.77,3.69l1.68,1.55-2.23,2.14-1.38-1.44a6.68,6.68,0,0,1-3.87,1.11,6.75,6.75,0,0,1-3.54-.9A5.68,5.68,0,0,1,66.46,18.5Zm3.17-7a5.36,5.36,0,0,0-.93,3.35,5.27,5.27,0,0,0,.92,3.32,3.54,3.54,0,0,0,5.28,0,5.27,5.27,0,0,0,.92-3.32,5.34,5.34,0,0,0-.94-3.35,3.45,3.45,0,0,0-5.25,0Z"/>
                <path d="M85,16.09V8h3v8a9.94,9.94,0,0,0,.06,1.28,3.71,3.71,0,0,0,.21.81,2.11,2.11,0,0,0,2.17,1.13,2.15,2.15,0,0,0,2.21-1.13,2.67,2.67,0,0,0,.19-.73c0-.29,0-.74,0-1.36V8h3v8.06a13.12,13.12,0,0,1-.15,2.28,4.49,4.49,0,0,1-.54,1.46c-.77,1.36-2.36,2.05-4.77,2.05s-4-.69-4.75-2.05a4.8,4.8,0,0,1-.55-1.47A13,13,0,0,1,85,16.09Z"/>
                <path d="M102.63,21.63V8h9.56v2.66h-6.54v2.66h5.91V16h-5.91V19h7v2.67Z"/>
                <path d="M127.73,21.63V8h5.12a9.48,9.48,0,0,1,3.25.42A4.27,4.27,0,0,1,138,9.94a4,4,0,0,1,.7,2.42,4,4,0,0,1-.77,2.5,3.88,3.88,0,0,1-2.12,1.35l3.38,5.42H135.8l-3-5.05h-2v5.05Zm3-7.6h2.37a3.78,3.78,0,0,0,2-.36,1.44,1.44,0,0,0,.63-1.31,1.47,1.47,0,0,0-.63-1.31,3.78,3.78,0,0,0-2-.36h-2.37Z"/>
                <path d="M144.69,16.09V8h3v8a9.94,9.94,0,0,0,.06,1.28,4.36,4.36,0,0,0,.2.81,2.13,2.13,0,0,0,2.18,1.13,2.15,2.15,0,0,0,2.21-1.13,2.36,2.36,0,0,0,.18-.73,11.47,11.47,0,0,0,.05-1.36V8h3v8.06a13.12,13.12,0,0,1-.15,2.28,4.49,4.49,0,0,1-.54,1.46c-.77,1.36-2.36,2.05-4.77,2.05s-4-.69-4.76-2.05a4.54,4.54,0,0,1-.54-1.47A11.91,11.91,0,0,1,144.69,16.09Z"/>
                <path d="M162.33,21.63V8h3v13.6Z"/>
                <path d="M171.39,21.63V19.21l6.45-8.48h-6.2V8h10.13v2.22l-6.49,8.68h6.51v2.7Z"/>
                <path d="M196.8,21.63V8h5a14.67,14.67,0,0,1,2,.12,5.3,5.3,0,0,1,1.64.5A4.86,4.86,0,0,1,207.76,11a8.38,8.38,0,0,1,.8,3.74,7.24,7.24,0,0,1-2,5.43,5.45,5.45,0,0,1-.72.6,4,4,0,0,1-.83.4c-.31.1-.59.19-.83.24a5.43,5.43,0,0,1-1,.13l-1,.05H196.8Zm3-2.86h1.38l1.31,0a4.22,4.22,0,0,0,1-.19,2,2,0,0,0,.85-.48,3.38,3.38,0,0,0,.78-1.31,5.73,5.73,0,0,0,.31-1.92,5.28,5.28,0,0,0-.33-1.91,3.22,3.22,0,0,0-.89-1.35A2.59,2.59,0,0,0,203,11a11.45,11.45,0,0,0-2-.14h-1.15Z"/>
                <path d="M214.48,16.09V8h3v8a9.94,9.94,0,0,0,.06,1.28,3.2,3.2,0,0,0,.2.81,2.13,2.13,0,0,0,2.18,1.13,2.16,2.16,0,0,0,2.21-1.13,2.36,2.36,0,0,0,.18-.73c0-.29,0-.74,0-1.36V8h3v8.06a13.12,13.12,0,0,1-.15,2.28,4.5,4.5,0,0,1-.55,1.46c-.76,1.36-2.35,2.05-4.76,2.05s-4-.69-4.76-2.05a4.54,4.54,0,0,1-.54-1.47A11.91,11.91,0,0,1,214.48,16.09Z"/>
                <path d="M232.11,21.63V8h5.12a9.45,9.45,0,0,1,3.24.42,4.3,4.3,0,0,1,1.94,1.49,4.09,4.09,0,0,1,.69,2.42,4,4,0,0,1-.76,2.5,3.94,3.94,0,0,1-2.13,1.35l3.38,5.42h-3.42l-3-5.05h-2v5.05Zm3-7.6h2.36a3.78,3.78,0,0,0,2-.36,1.43,1.43,0,0,0,.64-1.31,1.45,1.45,0,0,0-.64-1.31,3.78,3.78,0,0,0-2-.36h-2.36Z"/>
                <path d="M248.37,21.63,253,8h3.66l4.53,13.6h-3.23l-.8-2.69h-4.79l-.78,2.69Zm4.7-5.17h3.26l-1.12-3.85-.46-1.76h0c-.16.6-.33,1.19-.5,1.78Z"/>
                <path d="M266.12,21.63V19.21l6.44-8.48h-6.2V8H276.5v2.22L270,18.93h6.52v2.7Z"/>
                <path d="M282.41,18.5a8.22,8.22,0,0,1-.77-3.67,8,8,0,0,1,.8-3.67,5.87,5.87,0,0,1,2.3-2.48,7.25,7.25,0,0,1,7,0,5.87,5.87,0,0,1,2.3,2.48,8.12,8.12,0,0,1,.79,3.67,8.63,8.63,0,0,1-.44,2.86,6.36,6.36,0,0,1-1.26,2.22A5.65,5.65,0,0,1,291,21.36a7.35,7.35,0,0,1-2.8.52,6.8,6.8,0,0,1-3.54-.9A5.68,5.68,0,0,1,282.41,18.5Zm3.18-7a5.36,5.36,0,0,0-.93,3.35,5.27,5.27,0,0,0,.91,3.32,3.55,3.55,0,0,0,5.29,0,5.27,5.27,0,0,0,.91-3.32,5.4,5.4,0,0,0-.93-3.35,3.45,3.45,0,0,0-5.25,0Z"/>
                </g>
                </svg>
                </a>
                </div>
                <!-- Close -->
                <div class="menu">
                <button id="more--close">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                <path d="M30 26.4645L17.6256 14.0901L14.0901 17.6256L26.4645 30L14.0901 42.3744L17.6256 45.9099L30 33.5355L42.3744 45.9099L45.9099 42.3744L33.5355 30L45.9099 17.6256L42.3744 14.0901L30 26.4645Z" fill="#202020"/>
                </svg>
                </button>
                </div>
                </div>
                </nav>

                <!-- Slide Content -->
                <div id="more--text">
                ${learnMore[slideNo].text}
                </div>

                <!-- Bottom -->
                <div class="more--bottom">
                <!-- Back -->
                <button id="more--back" onclick="back()">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.3744 14.0901L11.4645 30L27.3744 45.9099L30.9099 42.3744L21.0355 32.5H47.5V27.5H21.0355L30.9099 17.6256L27.3744 14.0901Z" fill="#202020"/>
                </svg>
                </button>
                <!-- Count -->
                <div id="more--count" style="color: #fff;">
                ${slideNo + 1}
                <span id="more--slash">/</span>
                ${learnMore.length}
                </div>
                <!-- Next -->
                <button id="more--next" onclick="next()">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                <path d="M32.6256 14.0901L48.5355 30L32.6256 45.9099L29.0901 42.3744L38.9645 32.5H12.5V27.5H38.9645L29.0901 17.6256L32.6256 14.0901Z" fill="#202020"/>
                </svg>
                </button>
                </div>
                `;

            more.setAttribute(
              "style",
              "width: 100%; height: 100%; opacity: 1;"
            );

            document
              .getElementById("more--close")
              .addEventListener("click", (event) => {
                // Change button state
                document.getElementById("more--close").blur();
                // Disable site overflow
                body.setAttribute("style", "overflow: auto;");
                // Begin shrinking circle animation
                moreBg.setAttribute(
                  "style",
                  "top: " +
                    event.clientY +
                    "px; left: " +
                    event.clientX +
                    "px; opacity: 0; max-height: 40px; max-width: 40px;"
                );
                // Hide and remove content
                more.setAttribute("style", "width: 0; height: 0; opacity: 0;");
                setTimeout(() => {
                  moreBg.remove();
                  moreFg.remove();
                  more.remove();
                }, 300);
              });
          }, 300);

          //
          // Clicks (vercel + supabase)
          //

          // Helper for fetch url
          let url = document.location.href;

          // Account for 'local' vs 'prod'
          if (url.startsWith("https://ruizdurazo.com")) {
            url = `https://ruizdurazo-button.vercel.app/api/clicks`;
          } else {
            url = `http://localhost:3000/api/clicks`;
          }

          await fetch(url, {
            method: "POST",
            mode: "cors",
            headers: {
              "Content-Type": "application/json",
            },
          });

          fetch(url)
            .then((response) => response.json())
            .then((data) => {
              const numberOfClicks = data.count;

              learnMore[learnMore.length - 1] =
                numberOfClicks > 0
                  ? {
                      text: `
            <p>lol the button has been clicked ${numberOfClicks} times!</p>
            `,
                      bgColor: "black",
                    }
                  : {
                      text: `
            <p>omg you clicked the button!</p>
            `,
                      bgColor: "black",
                    };

              if (slideNo === learnMore.length - 1) {
                updateSlides();
              }
            });
        });
    </script>
  </body>
</html>
